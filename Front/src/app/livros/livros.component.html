<div class="container"><div *ngIf="livroSelecionado">
  <div class="row">
    <div class="mr-auto">
      <app-titulo [titulo]="'Livro: ' + livroSelecionado.id"></app-titulo>
    </div>
    <div class="mt-1">
      <button class="btn btn-warning" (click)="voltar()">Lista de livros</button>
    </div>
  </div>

  <form [formGroup]="livroForm" (submit)="livroSubmit()">
    <div class="form-group">
      <label for="example">Nome</label>
      <input type="text" formControlName="nome" class="form-control">
    </div>
    <div class="form-group">
      <label for="example">Autor</label>
      <input type="text" formControlName="autor" class="form-control">
    </div><br>
    <button type="submit" class="btn btn-sm btn-primary" [disabled]="!livroForm.valid">Enviar</button>
  </form>
  </div>

  <div *ngIf="!livroSelecionado">
    <app-titulo [titulo]="titulo">
        <button class="btn btn-success" (click)="voltar()">Cadastrar Livro</button>
    </app-titulo>
    
    <table class="table table-hover">
      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nome</th>
          <th scope="col">Autor</th>
          <th scope="col">Opções</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let livro of livros"
        style="cursor: pointer;" (click)="livroSelect(livro)">
          <th scope="row">{{livro.id}}</th>
          <td>{{livro.nome}}</td>
          <td>{{livro.autor}}</td>
          <td>
            <button (click)="livroSelect(livro)" class="btn btn-sm btn-space btn-outline-warning">Editar</button>
            <button (click)="openModal(template)" class="btn btn-sm btn-space btn-outline-primary">Situação</button>
            <button class="btn btn-sm btn-space btn-outline-danger">Deletar</button>
          </td>
        </tr>
        <tr>
      </tbody>
    </table>

  </div>
</div>

<ng-template #template>
  <div class="modal-body">
   <app-alunos></app-alunos>
 </div>
 <div class="modal-footer">
   <button type="button" class="btn pull-right" aria-label="Close" (click)="modalRef.hide()">
     Fechar
   </button>
 </div>
</ng-template>

