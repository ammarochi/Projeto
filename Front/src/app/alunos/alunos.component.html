<div class="container">


  <div *ngIf="alunoSelecionado">

    <div class="row">
      <div class="mr-auto">
        <app-titulo [titulo]="'Aluno: ' + alunoSelecionado.id">
        </app-titulo>
      </div>
      <div class="">
        <button class="btn btn-sm btn-warning" (click)="voltar()">Lista de alunos</button>
      </div>
    </div>

  <form [formGroup]="alunoForm" (submit)="alunoSubmit()">
    <div class="form-group">
      <label for="example">Nome</label>
      <input type="text" formControlName="nome" class="form-control">
    </div>
    <div class="form-group">
      <label for="example">Sobrenome</label>
      <input type="text"  formControlName="sobrenome" class="form-control">
    </div><br>
    <button type="submit" class="btn btn-sm btn-primary" [disabled]="!alunoForm.valid">Enviar</button>
  </form>

</div>

<div *ngIf="!alunoSelecionado">

  <app-titulo [titulo]="titulo">
    <button class="btn btn-sm btn-success" (click)="voltar()">Cadastrar</button>

  </app-titulo>
  <table class="table table-hover">
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nome</th>
        <th scope="col">Sobrenome</th>
        <th scope="col">Opções</th>

      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let aluno of alunos">
        <th scope="row">{{aluno.id}}</th>
        <td>{{aluno.nome}}</td>
        <td>{{aluno.sobrenome}}</td>
        <td>
          <div class="btn-group">
            <button (click)="alunoSelect(aluno)" class="btn btn-sm btn-space btn-outline-warning">Editar</button>
            <button (click)="openModal(template)" class="btn btn-sm btn-space btn-outline-primary">Livros Emprestados</button>
            <button class="btn btn-sm btn-space btn-outline-danger">Deletar</button>
          </div>
        </td>
      </tr>
      <tr>
    </tbody>
  </table>
</div>
</div>

<ng-template #template>
   <div class="modal-body">
    <app-livros></app-livros>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn pull-right" aria-label="Close" (click)="modalRef.hide()">
      Fechar
    </button>
  </div>
</ng-template>


